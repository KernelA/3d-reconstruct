# 3d-reconstruct

Код для тестирования работы программы нахождения разреза и восстановления 3D модели по изображению.

Оригинальный код доступен по [ссылке](https://users.csc.calpoly.edu/~zwood/teaching/csc570/final07/dalum_gzipkin/).

## Требования для запуска

* Поддержка OpenGL.
* Установленная библиотека [FreeGLUT](http://freeglut.sourceforge.net/).
* Система сборки cmake.
* Компилятор с поддержкой C++17.

## Использование

Рекомендуется установить Visual Studio 2017 или 2019. Так как он поддерживает cmake.

Текущая версия протестирована на Windows 10. cmake линкует  библиотеку FreeGLUT статически, поэтому при установке следует обратить внимание на название файла. Например, для Windows необходимо установить `freeglut_static.lib`, а не `freeglut.lib`.

В текущей версии после переписывания части кода перестал работать алгоритм восстановления модели по изображению. В ветке `master` по тэгу `init-code` находится оригинальный код. Можно переключиться на нужный коммит и попробовать запустить.

```
git checkout init-code
```

## Запуск 

Для запсука необходимо скачать изображения, в которых закодированы модели. Они доступны в архиве с оригинальным кодом `bunny4.bmp`, `bunnynormals.bmp`. Для программы неоюходимо передать два или три аргумента: путь к файлу `bunny4.bmp`, путь к файлу  `bunnynormals.bmp` и необязательный аргумент- один из путей к файлам с моделями (`.m`), которые также находятся в архиве с оригинальным кодом.

Например:
```
uvcut.exe путь_к_bunny4.bmp путь_к_bunnynormals.bmp [ путь_к_файлу_с_моделью ]
```

Порядок первых двух аргументов обязательно должен быть сохранён.

